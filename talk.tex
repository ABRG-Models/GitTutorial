\documentclass{beamer}

\usepackage{listings}

\usepackage{color}

\definecolor{codered}{rgb}{0.69,0.09,0.12}
\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.9,0.9,0.9}
\definecolor{forecolour}{rgb}{0.9,0.9,0.9}

\lstdefinestyle{bashstyle}{
    backgroundcolor=\color{backcolour},
    commentstyle=\color{codered},
    keywordstyle=\color{magenta},
    numberstyle=\tiny\color{codegray},
    stringstyle=\color{codepurple},
    basicstyle=\footnotesize,
    breakatwhitespace=false,
    breaklines=true,
    captionpos=b,
    keepspaces=true,
    numbers=left,
    numbersep=5pt,
    showspaces=false,
    showstringspaces=false,
    showtabs=false,
    tabsize=4
}

\lstset{style=bashstyle}

\title{Using Git for Comp-Neuro}

\author{Seb James}
\institute{ABRG Sheffield Internal Seminar}
\date{2018/06/28}

\begin{document}

\begin{frame}
  \titlepage % makes a title like \maketitle
\end{frame}

\begin{frame}
  \frametitle{Introduction}
  \begin{itemize}
    \item This seminar is about a command-line tool called Git.

    \item There's going to be a lot of \alert{text} in these slides (sorry!)

    \item I'll give an overview of Git and why it's helpful to use it, then we'll go
      through some example tasks together.
  \end{itemize}
\end{frame}

\begin{frame}
  \frametitle{What is Git?}
  Git is a \textbf{Revision Control} or \textbf{Version Control} tool.

  Revision control has two main features:

  \begin{enumerate}
    \pause \item Revision control allows you to keep references to different versions of a
      single file \emph{without having to explicitly make copies}
      \pause \item Most revision control tools allow several people to work
      on the same files %\pause with (non-magic) algorithms that (usually) correctly merge changes
  \end{enumerate}
\end{frame}

\begin{frame}
  \frametitle{File revisions}
  I bet you have folders that look like this:
  \pause \begin{itemize}
      \item myCoolProgram.cpp
      \pause \item myCoolProgram\_old.cpp
      \pause \item myCoolProgram\_1.cpp
      \pause \item myCoolProgram\_thisOneWorked.cpp
      \item myCoolProgram\_whoKnowsWhatThisOneIs.cpp
  \end{itemize}
  \pause With revision control, you only have
  \begin{itemize}
  \item myCoolProgram.cpp
  \end{itemize}
  \pause You might then have \alert{branches} like \textbf{master},
  \textbf{tryingIdea1}, \textbf{PlosCompBio2018} and so on.
\end{frame}

\begin{frame}
  \frametitle{\emph{Project} revisions}
  \begin{itemize}
    \item The ability to branch and tag \emph{really} comes into its own when
      you have any kind of project with more than one file in it.

    \item Without this, you find yourself needing one folder for
      each version of your project, duplicating files left, right
      and centre.
  \end{itemize}

\end{frame}

\begin{frame}
  \frametitle{Working with other people}
  (This is `main feature 2')

  \begin{itemize}
    \item Suppose you have some code which is used by yourself and 5 of your
      colleagues - some sort of library.

    \pause \item You find an error and fix it. Now you have to email the fix to \emph{5} people.

    \pause \item Just after you emailed them, you find an error in your fix, and you
    have to send another email...

    \pause \item Now imagine that one of your colleagues found a
    separate fix in the same file and emails that around. Which fix is
    more important? Who is going to merge the two fixes together?
  \end{itemize}

  \pause You need a revision control system to automate the process of
  distributing changes between users of a set of files, and to manage
  the merging of changes together.
\end{frame}

\begin{frame}
  \frametitle{Other revision control systems}
  \begin{itemize}
  \item RCS (Revision Control System)
  \item SCCS (Source Code Control System)
  \item CVS (Concurrent Versions System)
  \item Subversion
  \item Tons of proprietary systems
  \item Bazaar
  \item BitKeeper
  \item Mercurial
  \end{itemize}

  \pause Git is not the first revision control system, and its
  developers could draw on a lot of collective knowledge when
  designing it.
\end{frame}

\begin{frame}
  \frametitle{Why did someone develop Git?}
  \begin{itemize}
    \pause \item Most revision control tools have been pretty good at
    feature 1 (file versioning)
    \pause \item ...but not great at managing multiple contributions
    \pause \item That caused Linus Torvalds to use the proprietary
    BitKeeper from 2002 to manage the Linux code base.
    \pause \item In 2005 Linus fell out with BitMover Inc., and Git was
    created to replace it.
    \pause \item The name \emph{git} doesn't really mean anything.
  \end{itemize}
\end{frame}

\begin{frame}
  \frametitle{What's different about Git?}
  \begin{itemize}
  \item Git is a \emph{distributed} revision control system
  \pause \item It doesn't have the classical client-server architecture...
  \pause \item ...although typically you will work with a common
  \alert{remote} repository as your \alert{upstream} source.
  \pause \item When you \alert{clone} a repository from a source, you have
    \emph{everything} (all the file history and meta-data) in those
    files to become a source for someone else.
  \pause \item That means you can work on your code, making incremental
  \alert{commits} even when you don't have internet access.
  \pause \item And every copy of the repo is a backup!
  \end{itemize}
\end{frame}

\begin{frame}
  \frametitle{Git is \emph{not} github.com}
  \begin{itemize}
  \item Github is a commercial website which makes it easy to use Git
  \item bitbucket.org is an alternative
  \pause \item Generally, public hosting is free, private hosting
  incurs a fee
  \pause \item It's pretty easy to host a git repository yourself, but
  the nice web interface has made github.com very
  popular for source code hosting
  \pause \item It's now a big business; it was acquired by Microsoft in early June
  \end{itemize}
\end{frame}

\begin{frame}
  \frametitle{Why is Git good for us?}
  We don't have hundreds of people working on the same files, but...
  \begin{itemize}
    \pause \item We write code, so that's very natural to hold in
    revision control (also XML)
    \pause \item We have a frequent need to \alert{tag} our work (e.g. to
    match up with a paper or document)
    \pause \item ``It used to work, but now I've broken it and I can't
    get it back to working again'': Revision control makes it easy to
    revert to versions of your code which you knew would work
    \pause \item You can include your paper alongside your model code
    in a single, public repository
    \pause \item Use of Github is a very effective way to share your
    published models with your peers
  \end{itemize}
\end{frame}

\begin{frame}
  \frametitle{The Git Tutorial}
  The rest of these pages have been put together from material taken
  from the Software Carpentry project, which emphasises the use of
  Git.

  Head over to:

  \textbf{http://sebjameswml.github.io/git-novice/}

  And start on the lesson ``A better kind of Backup''

\end{frame}

\begin{frame}[fragile]
  \frametitle{Compiling libmorphologica}
    Github webpage: https://github.com/ABRG-Models/morphologica

  \begin{lstlisting}[language=bash]
# Prerequisites on Linux:
sudo apt install build-essential cmake libopencv-dev libarmadillo-dev libglu1-mesa-dev libxmu-dev libxi-dev
# Clone the repository:
git clone https://github.com/ABRG-Models/morphologica.git
# To look at the readme file:
cd morphologica
less README.md
# The cmake-driven build process:
mkdir build
cd build
cmake ..
make -j4
sudo make install
sudo ldconfig\end{lstlisting}
\end{frame}

\begin{frame}[fragile]
  \frametitle{Compiling Ermentrout2009}
  This is an example of a model which links to libmorphologica
  \begin{lstlisting}[language=bash]
git clone git@github.com:ABRG-Models/Ermentrout2009.git
cd Ermentrout2009/processes/sim
mkdir build
cd build
cmake ..
make
cd ../../../
# Run the model:
python sim.py\end{lstlisting}
\end{frame}


\end{document}
